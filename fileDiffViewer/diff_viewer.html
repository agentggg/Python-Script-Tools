
    <!DOCTYPE html>
    <html>
    <head>
        <title>Python File Diff Viewer</title>
        <style>
            body {
                font-family: Arial, sans-serif;
            }
            table {
                border-collapse: collapse;
                width: 100%;
                table-layout: fixed;
            }
            th, td {
                padding: 8px;
                text-align: left;
                vertical-align: top;
                border: 1px solid #ddd;
                word-wrap: break-word;
            }
            .added {
                background-color: #e6ffe6;
                font-weight: bold;
            }
            .removed {
                background-color: #ffe6e6;
                font-weight: bold;
            }
            .divider {
                border-left: 2px solid #ccc;
            }
        </style>
    </head>
    <body>
        <h1>Python File Differences</h1>
        <table>
            <thead>
                <tr>
                    <th>File 1</th>
                    <th>File 2</th>
                </tr>
            </thead>
            <tbody>     
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.db import IntegrityError
</td>
                    <td>  from django.db import IntegrityError
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from exponent_server_sdk import (
</td>
                    <td>  from exponent_server_sdk import (
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      DeviceNotRegisteredError,
</td>
                    <td>      DeviceNotRegisteredError,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      PushClient,
</td>
                    <td>      PushClient,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      PushMessage,
</td>
                    <td>      PushMessage,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      PushServerError,
</td>
                    <td>      PushServerError,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      PushTicketError,
</td>
                    <td>      PushTicketError,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  )
</td>
                    <td>  )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from rest_framework.decorators import api_view
</td>
                    <td>  from rest_framework.decorators import api_view
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from rest_framework.response import Response
</td>
                    <td>  from rest_framework.response import Response
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from rest_framework.authtoken.views import ObtainAuthToken
</td>
                    <td>  from rest_framework.authtoken.views import ObtainAuthToken
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.http import JsonResponse
</td>
                    <td>  from django.http import JsonResponse
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from .models import *
</td>
                    <td>  from .models import *
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.db.models import F
</td>
                    <td>  from django.db.models import F
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  #for message boxes
</td>
                    <td>  #for message boxes
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  #https://ordinarycoders.com/blog/article/django-messages-framework
</td>
                    <td>  #https://ordinarycoders.com/blog/article/django-messages-framework
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  #https://docs.djangoproject.com/en/3.2/topics/db/queries/
</td>
                    <td>  #https://docs.djangoproject.com/en/3.2/topics/db/queries/
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  # email lib
</td>
                    <td>  # email lib
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  # used to parse the JSON data from the register form
</td>
                    <td>  # used to parse the JSON data from the register form
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  import datetime
</td>
                    <td>  import datetime
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  #https://stackoverflow.com/questions/62068698/credentials-are-required-to-create-a-twilioclient
</td>
                    <td>  #https://stackoverflow.com/questions/62068698/credentials-are-required-to-create-a-twilioclient
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from .tasks import *
</td>
                    <td>  from .tasks import *
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.views.decorators.csrf import csrf_exempt
</td>
                    <td>  from django.views.decorators.csrf import csrf_exempt
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.utils.decorators import method_decorator
</td>
                    <td>  from django.utils.decorators import method_decorator
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.views.decorators.csrf import csrf_exempt
</td>
                    <td>  from django.views.decorators.csrf import csrf_exempt
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from backend.settings import EMAIL_HOST_USER
</td>
                    <td>  from backend.settings import EMAIL_HOST_USER
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.core.mail import EmailMessage
</td>
                    <td>  from django.core.mail import EmailMessage
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.db.models import Q
</td>
                    <td>  from django.db.models import Q
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.http import JsonResponse
</td>
                    <td>  from django.http import JsonResponse
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.db import transaction
</td>
                    <td>  from django.db import transaction
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  from django.shortcuts import get_object_or_404
</td>
                    <td>  from django.shortcuts import get_object_or_404
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+ import io
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+ import base64
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+ import requests
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET'])
</td>
                    <td>  @api_view(['GET'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def link_to_app(request):
</td>
                    <td>  def link_to_app(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     link = "https://apps.apple.com/us/app/revealed-mysteries/id6448077413"
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     link = "https://testflight.apple.com/join/fkGppx9s"
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      return Response(link)
</td>
                    <td>      return Response(link)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def send_push_message(token, message, extra):
</td>
                    <td>  def send_push_message(token, message, extra):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          PushClient().publish(
</td>
                    <td>          PushClient().publish(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              PushMessage(to=token,
</td>
                    <td>              PushMessage(to=token,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          body=message,
</td>
                    <td>                          body=message,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          data=extra))
</td>
                    <td>                          data=extra))
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as exc:
</td>
                    <td>      except Exception as exc:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print('error found in notification targeted:', exc)
</td>
                    <td>          print('error found in notification targeted:', exc)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def user_dream_vault(request):
</td>
                    <td>  def user_dream_vault(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # retrieves username from frontend
</td>
                    <td>              # retrieves username from frontend
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>              profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # retrieves the id number for the profile name assigned
</td>
                    <td>              # retrieves the id number for the profile name assigned
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','updated_at','userName').filter(user_id=profileNameId).order_by('-created_at')
</td>
                    <td>              all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','updated_at','userName').filter(user_id=profileNameId).order_by('-created_at')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(all_user_vault)
</td>
                    <td>              return Response(all_user_vault)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def save_user_dream_vault(request):
</td>
                    <td>  def save_user_dream_vault(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dream = request.data.get('dreamNote', False)
</td>
                    <td>              dream = request.data.get('dreamNote', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              subject = request.data.get('dreamSubject', False)
</td>
                    <td>              subject = request.data.get('dreamSubject', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dreamDate = request.data.get('dreamDate', False)
</td>
                    <td>              dreamDate = request.data.get('dreamDate', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              userView = request.data.get('view', False)
</td>
                    <td>              userView = request.data.get('view', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dreamId = request.data.get('dreamId', False)
</td>
                    <td>              dreamId = request.data.get('dreamId', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              if userView == "updatedDream":
</td>
                    <td>              if userView == "updatedDream":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  try:
</td>
                    <td>                  try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      DreamVault.objects.filter(user_dream_id=dreamId).update(
</td>
                    <td>                      DreamVault.objects.filter(user_dream_id=dreamId).update(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          user_dream_subject=subject,
</td>
                    <td>                          user_dream_subject=subject,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          user_dream=dream,
</td>
                    <td>                          user_dream=dream,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          updated_at=dreamDate
</td>
                    <td>                          updated_at=dreamDate
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          )
</td>
                    <td>                          )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      return Response("Successfully added to vault")
</td>
                    <td>                      return Response("Successfully added to vault")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  except Exception as e:
</td>
                    <td>                  except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      print(e)
</td>
                    <td>                      print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response("Successfully added to vault")
</td>
                    <td>                  return Response("Successfully added to vault")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              else:
</td>
                    <td>              else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>                  profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  if False in {dream, subject, profileName}:
</td>
                    <td>                  if False in {dream, subject, profileName}:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      return JsonResponse("error with dream input, please try again", safe=False)
</td>
                    <td>                      return JsonResponse("error with dream input, please try again", safe=False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  customUser = CustomUser.objects.get(id=profileNameId)
</td>
                    <td>                  customUser = CustomUser.objects.get(id=profileNameId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  try:
</td>
                    <td>                  try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      DreamVault.objects.create(
</td>
                    <td>                      DreamVault.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          user_dream_subject=subject,
</td>
                    <td>                          user_dream_subject=subject,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          user_dream=dream,
</td>
                    <td>                          user_dream=dream,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          user_id=customUser,
</td>
                    <td>                          user_id=customUser,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          created_at=dreamDate,
</td>
                    <td>                          created_at=dreamDate,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                          updated_at=dreamDate
</td>
                    <td>                          updated_at=dreamDate
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      )
</td>
                    <td>                      )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      return Response ('Successfully added to vault')
</td>
                    <td>                      return Response ('Successfully added to vault')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  except Exception as e:
</td>
                    <td>                  except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      print(e)
</td>
                    <td>                      print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      return Response('Failed')
</td>
                    <td>                      return Response('Failed')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def add_remove_vault_favorites(request):
</td>
                    <td>  def add_remove_vault_favorites(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dreamId = request.data.get('dreamId', False)
</td>
                    <td>              dreamId = request.data.get('dreamId', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              option = request.data.get('option', False)
</td>
                    <td>              option = request.data.get('option', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              if dreamId == False:
</td>
                    <td>              if dreamId == False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('user error')
</td>
                    <td>                  return Response('user error')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # retrieves username from frontend
</td>
                    <td>              # retrieves username from frontend
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              if option == "add":
</td>
                    <td>              if option == "add":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  DreamVault.objects.filter(user_dream_id=dreamId).update(favorites=1)
</td>
                    <td>                  DreamVault.objects.filter(user_dream_id=dreamId).update(favorites=1)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('Added successfully')
</td>
                    <td>                  return Response('Added successfully')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              elif option == "remove":
</td>
                    <td>              elif option == "remove":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  DreamVault.objects.filter(user_dream_id=dreamId).update(favorites=0)
</td>
                    <td>                  DreamVault.objects.filter(user_dream_id=dreamId).update(favorites=0)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('Removed successfully')
</td>
                    <td>                  return Response('Removed successfully')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def add_remove_vault_dream(request):
</td>
                    <td>  def add_remove_vault_dream(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dreamId = request.data.get('dreamId', False)
</td>
                    <td>              dreamId = request.data.get('dreamId', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              option = request.data.get('option', False)
</td>
                    <td>              option = request.data.get('option', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              if dreamId == False:
</td>
                    <td>              if dreamId == False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('user error')
</td>
                    <td>                  return Response('user error')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              elif option == "remove":
</td>
                    <td>              elif option == "remove":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  DreamVault.objects.filter(user_dream_id=dreamId).delete()
</td>
                    <td>                  DreamVault.objects.filter(user_dream_id=dreamId).delete()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('Removed successfully')
</td>
                    <td>                  return Response('Removed successfully')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def user_dream_vault_favorites(request):
</td>
                    <td>  def user_dream_vault_favorites(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>              profileId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(profileId=F('user_id__username')).values('user_id', 'user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','updated_at').filter(user_id_id=profileId, favorites=1)
</td>
                    <td>              all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(profileId=F('user_id__username')).values('user_id', 'user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','updated_at').filter(user_id_id=profileId, favorites=1)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(all_user_vault)
</td>
                    <td>              return Response(all_user_vault)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def dream_view(request):
</td>
                    <td>  def dream_view(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # request data = {'dream_id': 2, 'sourceView': 'SharedVaultDream', 'profileName': 'cisco'}
</td>
                    <td>              # request data = {'dream_id': 2, 'sourceView': 'SharedVaultDream', 'profileName': 'cisco'}
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dreamId = request.data.get('dream_id', False)
</td>
                    <td>              dreamId = request.data.get('dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              sourceView = request.data.get('sourceView', False)
</td>
                    <td>              sourceView = request.data.get('sourceView', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # retrieves username from frontend
</td>
                    <td>              # retrieves username from frontend
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>              profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # retrieves the id number for the profile name assigned.
</td>
                    <td>              # retrieves the id number for the profile name assigned.
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              if sourceView == 'DreamView':
</td>
                    <td>              if sourceView == 'DreamView':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  # {"dream_id": 7681, "sourceView": "DreamView"}
</td>
                    <td>                  # {"dream_id": 7681, "sourceView": "DreamView"}
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','updated_at','userName').filter(user_id=profileNameId, user_dream_id=dreamId)
</td>
                    <td>                  all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','updated_at','userName').filter(user_id=profileNameId, user_dream_id=dreamId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              elif sourceView in ['CommunityDreamView', 'PersonalDreamView', 'SharedVaultView']:
</td>
                    <td>              elif sourceView in ['CommunityDreamView', 'PersonalDreamView', 'SharedVaultView']:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id','forum_post','created_at','userName', 'updated_at','userName').filter(user_dream_id=dreamId)
</td>
                    <td>                  all_user_vault = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id','forum_post','created_at','userName', 'updated_at','userName').filter(user_dream_id=dreamId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(all_user_vault)
</td>
                    <td>              return Response(all_user_vault)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def add_forum_post(request):
</td>
                    <td>  def add_forum_post(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_id = request.data.get('user_id', False)
</td>
                    <td>              user_id = request.data.get('user_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_dream_id = request.data.get('user_dream_id', False)
</td>
                    <td>              user_dream_id = request.data.get('user_dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_dream_subject = request.data.get('user_dream_subject', False)
</td>
                    <td>              user_dream_subject = request.data.get('user_dream_subject', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_dream = request.data.get('user_dream', False)
</td>
                    <td>              user_dream = request.data.get('user_dream', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_dream_likes = request.data.get('user_id', False)
</td>
                    <td>              user_dream_likes = request.data.get('user_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_dream_comments = request.data.get('user_dream_id', False)
</td>
                    <td>              user_dream_comments = request.data.get('user_dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              created_at = request.data.get('user_dream_subject', False)
</td>
                    <td>              created_at = request.data.get('user_dream_subject', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              DreamForumStatus.objects.create(
</td>
                    <td>              DreamForumStatus.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_id=user_id,
</td>
                    <td>                  user_id=user_id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_dream_id=user_dream_id,
</td>
                    <td>                  user_dream_id=user_dream_id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_dream_subject=user_dream_subject,
</td>
                    <td>                  user_dream_subject=user_dream_subject,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_dream=user_dream,
</td>
                    <td>                  user_dream=user_dream,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_dream_likes=user_dream_likes,
</td>
                    <td>                  user_dream_likes=user_dream_likes,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_dream_comments=user_dream_comments,
</td>
                    <td>                  user_dream_comments=user_dream_comments,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  created_at=created_at
</td>
                    <td>                  created_at=created_at
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              )
</td>
                    <td>              )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  # all_user_posting = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_dream_subject')
</td>
                    <td>  # all_user_posting = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_dream_subject')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response('Posted to forum')
</td>
                    <td>              return Response('Posted to forum')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET'])
</td>
                    <td>  @api_view(['GET'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def forum_post(request):
</td>
                    <td>  def forum_post(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'GET':
</td>
                    <td>          if request.method == 'GET':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              all_user_posting = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','userName', 'user_dream_likes').filter(forum_post=1)
</td>
                    <td>              all_user_posting = DreamVault.objects.select_related('CustomUser').annotate(userName=F('user_id__username')).values('user_id','user_dream_subject', 'user_dream', 'user_dream_id', 'forum_post','created_at','userName', 'user_dream_likes').filter(forum_post=1)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(all_user_posting)
</td>
                    <td>              return Response(all_user_posting)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                    <td>          return Response("Please screenshot and contact your system admin if you are seeing this page con-api.")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("No access")
</td>
                    <td>          return Response("No access")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def forum_post_interaction(request):
</td>
                    <td>  def forum_post_interaction(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          hearts = request.data.get('hearts', False)
</td>
                    <td>          hearts = request.data.get('hearts', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          comments = request.data.get('comments', False)
</td>
                    <td>          comments = request.data.get('comments', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if hearts != False:
</td>
                    <td>          if hearts != False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              currentValue = int(DreamVault.objects.values_list('user_dream_likes', flat=True).get(user_dream_id=dream_id))
</td>
                    <td>              currentValue = int(DreamVault.objects.values_list('user_dream_likes', flat=True).get(user_dream_id=dream_id))
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              newInteger = (currentValue + 1)
</td>
                    <td>              newInteger = (currentValue + 1)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # converts it into number format, and then increase it by 1
</td>
                    <td>              # converts it into number format, and then increase it by 1
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              DreamVault.objects.filter(user_dream_id=dream_id).update(user_dream_likes=newInteger)
</td>
                    <td>              DreamVault.objects.filter(user_dream_id=dream_id).update(user_dream_likes=newInteger)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # updates the like column with the new val
</td>
                    <td>              # updates the like column with the new val
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if comments != False:
</td>
                    <td>          if comments != False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dreamVaultInstance = DreamVault.objects.get(user_dream_id=dream_id)
</td>
                    <td>              dreamVaultInstance = DreamVault.objects.get(user_dream_id=dream_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              CommunityComments.objects.create(user_dream_id=dreamVaultInstance, user_dream_comments=comments)
</td>
                    <td>              CommunityComments.objects.create(user_dream_id=dreamVaultInstance, user_dream_comments=comments)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('succssfully sent to backend for processing')
</td>
                    <td>          return Response('succssfully sent to backend for processing')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error uploading feedback")
</td>
                    <td>          return Response("error uploading feedback")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def retrieve_forum_post_interactions(request):
</td>
                    <td>  def retrieve_forum_post_interactions(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method != 'POST':
</td>
                    <td>          if request.method != 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # print('error')
</td>
                    <td>              # print('error')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return('error with feedback update')
</td>
                    <td>              return('error with feedback update')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if dream_id != False:
</td>
                    <td>          if dream_id != False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              dream_likes = DreamForumStatus.objects.filter(user_dream_id=dream_id).values_list('user_dream_likes', flat=True)
</td>
                    <td>              dream_likes = DreamForumStatus.objects.filter(user_dream_id=dream_id).values_list('user_dream_likes', flat=True)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # print("==>> dream_likes: ", dream_likes)
</td>
                    <td>              # print("==>> dream_likes: ", dream_likes)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(dream_likes)
</td>
                    <td>          return Response(dream_likes)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error uploading feedback")
</td>
                    <td>          return Response("error uploading feedback")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def word_feedback(request):
</td>
                    <td>  def word_feedback(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method != 'POST':
</td>
                    <td>          if request.method != 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response('error with feedback update')
</td>
                    <td>              return Response('error with feedback update')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          word = request.data.get('word', False)
</td>
                    <td>          word = request.data.get('word', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          feedback = request.data.get('feedback', False)
</td>
                    <td>          feedback = request.data.get('feedback', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          feedback_notes = request.data.get('feedback_notes', False)
</td>
                    <td>          feedback_notes = request.data.get('feedback_notes', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          word_feedback_update.delay(word, feedback, feedback_notes)
</td>
                    <td>          word_feedback_update.delay(word, feedback, feedback_notes)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('succssfully sent to backend for processing')
</td>
                    <td>          return Response('succssfully sent to backend for processing')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # print(e)
</td>
                    <td>          # print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error uploading feedback")
</td>
                    <td>          return Response("error uploading feedback")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def friend_list(request):  # sourcery skip: avoid-builtin-shadow
</td>
                    <td>  def friend_list(request):  # sourcery skip: avoid-builtin-shadow
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if request.method != 'POST':
</td>
                    <td>      if request.method != 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return
</td>
                    <td>          return
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      setView = request.data.get('setView', False)
</td>
                    <td>      setView = request.data.get('setView', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # data comes in from frontend as an array setView: [5, 'acceptConnect', 'agentofgod']
</td>
                    <td>      # data comes in from frontend as an array setView: [5, 'acceptConnect', 'agentofgod']
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # 5 = remote user, acceptConnect is setview, agentofgod = currentUser
</td>
                    <td>      # 5 = remote user, acceptConnect is setview, agentofgod = currentUser
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      profileName = request.data.get('profileName', False)
</td>
                    <td>      profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # source id of the user
</td>
                    <td>      # source id of the user
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if setView == 'allFriends':
</td>
                    <td>      if setView == 'allFriends':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>          profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          friends_data = CustomUser.objects.filter(user_friend__user_id=profileNameId).annotate(
</td>
                    <td>          friends_data = CustomUser.objects.filter(user_friend__user_id=profileNameId).annotate(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              status=models.F('user_friend__status')).values_list('id', 'first_name', 'last_name', 'profile_name', 'status')
</td>
                    <td>              status=models.F('user_friend__status')).values_list('id', 'first_name', 'last_name', 'profile_name', 'status')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          data_list = [
</td>
                    <td>          data_list = [
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              {
</td>
                    <td>              {
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'id': row[0],
</td>
                    <td>                  'id': row[0],
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'first_name': row[1],
</td>
                    <td>                  'first_name': row[1],
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'last_name': row[2],
</td>
                    <td>                  'last_name': row[2],
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'profile_name': row[3],
</td>
                    <td>                  'profile_name': row[3],
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'status': row[4],
</td>
                    <td>                  'status': row[4],
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              }
</td>
                    <td>              }
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              for row in friends_data
</td>
                    <td>              for row in friends_data
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          ]
</td>
                    <td>          ]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # combines two models together and sends it off as an object
</td>
                    <td>          # combines two models together and sends it off as an object
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(data_list)
</td>
                    <td>          return Response(data_list)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView[1] == 'acceptConnect':
</td>
                    <td>      elif setView[1] == 'acceptConnect':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          userId = UserFriends.objects.values_list('user_id').get(id=setView[0])[0]
</td>
                    <td>          userId = UserFriends.objects.values_list('user_id').get(id=setView[0])[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          friendId = UserFriends.objects.values_list('user_friend_id').get(id=setView[0])[0]
</td>
                    <td>          friendId = UserFriends.objects.values_list('user_friend_id').get(id=setView[0])[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          userIdInstance = CustomUser.objects.get(id=userId)
</td>
                    <td>          userIdInstance = CustomUser.objects.get(id=userId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          friendIdInstance = CustomUser.objects.get(id=friendId)
</td>
                    <td>          friendIdInstance = CustomUser.objects.get(id=friendId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          UserFriends.objects.filter(id=setView[0]).update(status='Friends')
</td>
                    <td>          UserFriends.objects.filter(id=setView[0]).update(status='Friends')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          UserFriends.objects.create(
</td>
                    <td>          UserFriends.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_id=friendIdInstance,
</td>
                    <td>              user_id=friendIdInstance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_friend_id=userIdInstance,
</td>
                    <td>              user_friend_id=userIdInstance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              status='Friends',
</td>
                    <td>              status='Friends',
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          )
</td>
                    <td>          )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # creates the reverse friendship
</td>
                    <td>          # creates the reverse friendship
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('acceptedConnection')
</td>
                    <td>          return Response('acceptedConnection')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # updates the frienship status
</td>
                    <td>      # updates the frienship status
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView[1] == "declineConnect":
</td>
                    <td>      elif setView[1] == "declineConnect":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          message = "Dreamer declined your friend request."
</td>
                    <td>          message = "Dreamer declined your friend request."
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # message to send with notification
</td>
                    <td>          # message to send with notification
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          userFriendId = UserFriends.objects.filter(id=setView[0]).values_list('user_id', flat=True)[0]
</td>
                    <td>          userFriendId = UserFriends.objects.filter(id=setView[0]).values_list('user_id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # takes the id for the specific row, and attempts to get the user_id integer
</td>
                    <td>          # takes the id for the specific row, and attempts to get the user_id integer
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          token = PushToken.objects.filter(username=userFriendId).values_list('push_token', flat=True)[0]
</td>
                    <td>          token = PushToken.objects.filter(username=userFriendId).values_list('push_token', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # passes the user_id integer so source requestor now knows that they are friends
</td>
                    <td>          # passes the user_id integer so source requestor now knows that they are friends
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          try:
</td>
                    <td>          try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              PushClient().publish(
</td>
                    <td>              PushClient().publish(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  PushMessage(to=token,
</td>
                    <td>                  PushMessage(to=token,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      body=message,
</td>
                    <td>                      body=message,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      ))
</td>
                    <td>                      ))
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          except Exception as exc:
</td>
                    <td>          except Exception as exc:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # Encountered some likely formatting/validation error.
</td>
                    <td>              # Encountered some likely formatting/validation error.
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              print(exc)
</td>
                    <td>              print(exc)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response ('declineConnectError')
</td>
                    <td>              return Response ('declineConnectError')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          UserFriends.objects.filter(id=setView[0]).delete()
</td>
                    <td>          UserFriends.objects.filter(id=setView[0]).delete()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # after notification has been sent to remote friend, the friendship is declined
</td>
                    <td>          # after notification has been sent to remote friend, the friendship is declined
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('declineConnect')
</td>
                    <td>          return Response('declineConnect')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView[1] == "deleteConnect":
</td>
                    <td>      elif setView[1] == "deleteConnect":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          userSourceId = CustomUser.objects.filter(profile_name=setView[2]).values_list('id', flat=True)[0]
</td>
                    <td>          userSourceId = CustomUser.objects.filter(profile_name=setView[2]).values_list('id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # retrieves the id value for the username
</td>
                    <td>          # retrieves the id value for the username
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          with transaction.atomic():
</td>
                    <td>          with transaction.atomic():
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # runs each orm depenedent of the success of prior query
</td>
                    <td>              # runs each orm depenedent of the success of prior query
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              UserFriends.objects.filter(user_friend_id=setView[0]).filter(user_id=userSourceId).delete()
</td>
                    <td>              UserFriends.objects.filter(user_friend_id=setView[0]).filter(user_id=userSourceId).delete()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              UserFriends.objects.filter(user_friend_id=userSourceId).filter(user_id=setView[0]).delete()
</td>
                    <td>              UserFriends.objects.filter(user_friend_id=userSourceId).filter(user_id=setView[0]).delete()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     return Response('deleteConnect')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         return Response('deleteConnect')
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def view_friend_request(request):
</td>
                    <td>  def view_friend_request(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # source name of the user.
</td>
                    <td>              # source name of the user.
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileNameId = CustomUser.objects.get(profile_name=profileName).id
</td>
                    <td>              profileNameId = CustomUser.objects.get(profile_name=profileName).id
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # get all UserFriends objects where user_friend_id is the specified user_id
</td>
                    <td>              # get all UserFriends objects where user_friend_id is the specified user_id
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_friends = UserFriends.objects.filter(user_friend_id__id=profileNameId)
</td>
                    <td>              user_friends = UserFriends.objects.filter(user_friend_id__id=profileNameId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # create an empty list to hold the data
</td>
                    <td>              # create an empty list to hold the data
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              data = []
</td>
                    <td>              data = []
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # iterate over each user_friend in user_friends
</td>
                    <td>              # iterate over each user_friend in user_friends
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              for user_friend in user_friends:
</td>
                    <td>              for user_friend in user_friends:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  # get the CustomUser object associated with the user_id
</td>
                    <td>                  # get the CustomUser object associated with the user_id
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  custom_user = CustomUser.objects.get(id=user_friend.user_id.id)
</td>
                    <td>                  custom_user = CustomUser.objects.get(id=user_friend.user_id.id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  # create a dictionary with the desired fields and append it to data
</td>
                    <td>                  # create a dictionary with the desired fields and append it to data
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  data.append({
</td>
                    <td>                  data.append({
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     # 'phone_number': custom_user.phone_number,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                    --
</td>
                    <td>?                    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     'phone_number': custom_user.phone_number,
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      'profile_name': custom_user.profile_name,
</td>
                    <td>                      'profile_name': custom_user.profile_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      'first_name': custom_user.first_name,
</td>
                    <td>                      'first_name': custom_user.first_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      'last_name': custom_user.last_name,
</td>
                    <td>                      'last_name': custom_user.last_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      'status': user_friend.status,
</td>
                    <td>                      'status': user_friend.status,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      'id': user_friend.id,
</td>
                    <td>                      'id': user_friend.id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  })
</td>
                    <td>                  })
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(data)
</td>
                    <td>              return Response(data)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error updating friendship")
</td>
                    <td>          return Response("error updating friendship")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def collab_list(request):
</td>
                    <td>  def collab_list(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>              profileId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # profile name to id value
</td>
                    <td>              # profile name to id value
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              listOfFriends = []
</td>
                    <td>              listOfFriends = []
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              allUserFriends = UserFriends.objects.values_list('user_friend_id', flat=True).filter(user_id_id=profileId)
</td>
                    <td>              allUserFriends = UserFriends.objects.values_list('user_friend_id', flat=True).filter(user_id_id=profileId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # provides all friends userId
</td>
                    <td>              # provides all friends userId
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              for eachNameId in allUserFriends:
</td>
                    <td>              for eachNameId in allUserFriends:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 eachName = CustomUser.objects.values_list('first_name', 'last_name','id', 'profile_name').get(id=eachNameId)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? -
</td>
                    <td>? -
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                eachName = CustomUser.objects.values_list('first_name', 'last_name','id', 'profile_name').get(id=eachNameId)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              #    translate all friends userId to profile names
</td>
                    <td>              #    translate all friends userId to profile names
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 listOfFriends.append(eachName)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? -
</td>
                    <td>? -
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                listOfFriends.append(eachName)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             #    appends it to an array to be used.
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                                                   -
</td>
                    <td>?                                                   -
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             #    appends it to an array to be used
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(listOfFriends)
</td>
                    <td>              return Response(listOfFriends)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error uploading feedback")
</td>
                    <td>          return Response("error uploading feedback")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def collab_dreams(request):
</td>
                    <td>  def collab_dreams(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == 'POST':
</td>
                    <td>          if request.method == 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileName = request.data.get('profileName', False)
</td>
                    <td>              profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profileId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>              profileId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              results = CollabedDreams.objects.select_related('dream_id', 'destination_user', 'source_user').filter(Q(destination_user=profileId) | Q(source_user=profileId)).values('id', 'dream_id__user_id__profile_name', 'dream_id__user_dream_subject', 'dream_id__user_dream','dream_id', 'source_user__username', 'destination_user__username', 'dream_id__created_at', 'dream_id__updated_at').order_by('-id')#order_by('-dream_id__updated_at')
</td>
                    <td>              results = CollabedDreams.objects.select_related('dream_id', 'destination_user', 'source_user').filter(Q(destination_user=profileId) | Q(source_user=profileId)).values('id', 'dream_id__user_id__profile_name', 'dream_id__user_dream_subject', 'dream_id__user_dream','dream_id', 'source_user__username', 'destination_user__username', 'dream_id__created_at', 'dream_id__updated_at').order_by('-id')#order_by('-dream_id__updated_at')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              allDreams = [dict(r, source_username=r.pop('source_user__username'), destination_username=r.pop('destination_user__username')) for r in results]  # add CustomUser username fields to each dictionary
</td>
                    <td>              allDreams = [dict(r, source_username=r.pop('source_user__username'), destination_username=r.pop('destination_user__username')) for r in results]  # add CustomUser username fields to each dictionary
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(allDreams)
</td>
                    <td>              return Response(allDreams)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error uploading feedback")
</td>
                    <td>          return Response("error uploading feedback")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def collab_notification(request):
</td>
                    <td>  def collab_notification(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      sourceView = request.data.get('sourceView', False)
</td>
                    <td>      sourceView = request.data.get('sourceView', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      profileName = request.data.get('profileName', False)
</td>
                    <td>      profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>      profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # gets the user id number for the profileName
</td>
                    <td>      # gets the user id number for the profileName
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if sourceView == "sharedVaultHome":
</td>
                    <td>      if sourceView == "sharedVaultHome":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          usersFriendName = PendingCollab.objects.select_related('CustomUser').annotate(name=F('pending_request_destination_user__username')).values('name','user_dream_subject','user_dream','dream_id')
</td>
                    <td>          usersFriendName = PendingCollab.objects.select_related('CustomUser').annotate(name=F('pending_request_destination_user__username')).values('name','user_dream_subject','user_dream','dream_id')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(usersFriendName)
</td>
                    <td>          return Response(usersFriendName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif sourceView == "notficationNumber":
</td>
                    <td>      elif sourceView == "notficationNumber":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          notificationCount = PendingCollab.objects.filter(pending_request_source_user=profileNameId).count()
</td>
                    <td>          notificationCount = PendingCollab.objects.filter(pending_request_source_user=profileNameId).count()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(notificationCount)
</td>
                    <td>          return Response(notificationCount)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif sourceView == "delete":
</td>
                    <td>      elif sourceView == "delete":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          sourceView = request.data.get('sourceView', False)
</td>
                    <td>          sourceView = request.data.get('sourceView', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          try:
</td>
                    <td>          try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              PendingCollab.objects.filter(dream_id=dream_id).delete()
</td>
                    <td>              PendingCollab.objects.filter(dream_id=dream_id).delete()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response('dream moved to collab')
</td>
                    <td>              return Response('dream moved to collab')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          except Exception as e:
</td>
                    <td>          except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              print(e)
</td>
                    <td>              print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response('error deleted')
</td>
                    <td>              return Response('error deleted')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif sourceView == "accept":
</td>
                    <td>      elif sourceView == "accept":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          sourceView = request.data.get('sourceView', False)
</td>
                    <td>          sourceView = request.data.get('sourceView', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                    <td>          dream_id = request.data.get('dream_id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          name = request.data.get('name', False)
</td>
                    <td>          name = request.data.get('name', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # the name of the user for the destination
</td>
                    <td>          # the name of the user for the destination
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          destination_name_id = CustomUser.objects.values_list('id', flat=True).get(profile_name=name)
</td>
                    <td>          destination_name_id = CustomUser.objects.values_list('id', flat=True).get(profile_name=name)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          destination_name_id_instance = CustomUser.objects.get(id=destination_name_id)
</td>
                    <td>          destination_name_id_instance = CustomUser.objects.get(id=destination_name_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          source_user_instance = CustomUser.objects.get(profile_name=profileName)
</td>
                    <td>          source_user_instance = CustomUser.objects.get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id_instance = DreamVault.objects.get(user_dream_id=dream_id)
</td>
                    <td>          dream_id_instance = DreamVault.objects.get(user_dream_id=dream_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          try:
</td>
                    <td>          try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              check_if_exists = CollabedDreams.objects.filter(dream_id=dream_id_instance, source_user=source_user_instance, destination_user=destination_name_id_instance).exists()
</td>
                    <td>              check_if_exists = CollabedDreams.objects.filter(dream_id=dream_id_instance, source_user=source_user_instance, destination_user=destination_name_id_instance).exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              if check_if_exists == False:
</td>
                    <td>              if check_if_exists == False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  CollabedDreams.objects.create(
</td>
                    <td>                  CollabedDreams.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      dream_id=dream_id_instance,
</td>
                    <td>                      dream_id=dream_id_instance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      source_user=source_user_instance,
</td>
                    <td>                      source_user=source_user_instance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      destination_user=destination_name_id_instance
</td>
                    <td>                      destination_user=destination_name_id_instance
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                      )
</td>
                    <td>                      )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  PendingCollab.objects.filter(dream_id=dream_id).delete()
</td>
                    <td>                  PendingCollab.objects.filter(dream_id=dream_id).delete()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('dream moved to collab')
</td>
                    <td>                  return Response('dream moved to collab')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              else:
</td>
                    <td>              else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  print("dream already exist")
</td>
                    <td>                  print("dream already exist")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('Already exists')
</td>
                    <td>                  return Response('Already exists')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          except Exception as e:
</td>
                    <td>          except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              print(e)
</td>
                    <td>              print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response('error')
</td>
                    <td>              return Response('error')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('error')
</td>
                    <td>          return Response('error')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def collab_request(request):
</td>
                    <td>  def collab_request(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if request.method != 'POST':
</td>
                    <td>      if request.method != 'POST':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return
</td>
                    <td>          return
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      friendId = request.data.get('friendId', False)
</td>
                    <td>      friendId = request.data.get('friendId', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # the friend id
</td>
                    <td>      # the friend id
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      dream_id = request.data.get('dreamerId', False)
</td>
                    <td>      dream_id = request.data.get('dreamerId', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # the dream id
</td>
                    <td>      # the dream id
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      profile = request.data.get('profile', False)
</td>
                    <td>      profile = request.data.get('profile', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # retrieves the user profile name
</td>
                    <td>      # retrieves the user profile name
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # user_dream_subject = request.data.get('user_dream_subject', False)
</td>
                    <td>      # user_dream_subject = request.data.get('user_dream_subject', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # retrieves dream info
</td>
                    <td>      # retrieves dream info
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      dreamerIdExist = CustomUser.objects.filter(id=friendId).exists()
</td>
                    <td>      dreamerIdExist = CustomUser.objects.filter(id=friendId).exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      userIdInstance = CustomUser.objects.filter(profile_name=profile).values_list('id', flat=True)[0]
</td>
                    <td>      userIdInstance = CustomUser.objects.filter(profile_name=profile).values_list('id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      friendIdExist = UserFriends.objects.filter(user_id=userIdInstance).filter(user_friend_id=friendId).values_list('user_friend_id', flat=True)[0]
</td>
                    <td>      friendIdExist = UserFriends.objects.filter(user_id=userIdInstance).filter(user_friend_id=friendId).values_list('user_friend_id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # checks the friend database table to see if the friendship exist
</td>
                    <td>      # checks the friend database table to see if the friendship exist
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # checks database for all friendship between friend id and the user profile id
</td>
                    <td>      # checks database for all friendship between friend id and the user profile id
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # check if  dreamer is on friend-list
</td>
                    <td>      # check if  dreamer is on friend-list
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      friendPushTokenExists = PushToken.objects.filter(username_id=friendId).exists()
</td>
                    <td>      friendPushTokenExists = PushToken.objects.filter(username_id=friendId).exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # friendPushPushToken = PushToken.objects.filter(username_id=friendId)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # check if push token exists for user
</td>
                    <td>      # check if push token exists for user
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if dreamerIdExist == False:
</td>
                    <td>      if dreamerIdExist == False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("notUser")
</td>
                    <td>          return Response("notUser")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print('not a new user')
</td>
                    <td>          print('not a new user')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if friendId != friendIdExist:
</td>
                    <td>      if friendId != friendIdExist:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print("notFriend")
</td>
                    <td>          print("notFriend")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("notFriend")
</td>
                    <td>          return Response("notFriend")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print("friendship exist")
</td>
                    <td>          print("friendship exist")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if friendPushTokenExists == False:
</td>
                    <td>      if friendPushTokenExists == False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print("notRegistered")
</td>
                    <td>          print("notRegistered")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("notRegistered")
</td>
                    <td>          return Response("notRegistered")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print("user is registered")
</td>
                    <td>          print("user is registered")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # dream_subject_instance = DreamVault.objects.get(user_dream_subject=user_dream_subject)
</td>
                    <td>      # dream_subject_instance = DreamVault.objects.get(user_dream_subject=user_dream_subject)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # retrieves destination user information instance..
</td>
                    <td>      # retrieves destination user information instance..
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      pending_request_source_user = CustomUser.objects.filter(profile_name=profile).values_list('id', flat=True)[0]
</td>
                    <td>      pending_request_source_user = CustomUser.objects.filter(profile_name=profile).values_list('id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # retrieves source user information instance
</td>
                    <td>      # retrieves source user information instance
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      pending_request_destination_user = CustomUser.objects.filter(id=friendId).values_list('id', flat=True)[0]
</td>
                    <td>      pending_request_destination_user = CustomUser.objects.filter(id=friendId).values_list('id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      verificationOfCollab = CollabedDreams.objects.filter(
</td>
                    <td>      verificationOfCollab = CollabedDreams.objects.filter(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          source_user=pending_request_destination_user,
</td>
                    <td>          source_user=pending_request_destination_user,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          destination_user=pending_request_source_user,
</td>
                    <td>          destination_user=pending_request_source_user,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id = dream_id,
</td>
                    <td>          dream_id = dream_id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          ).exists()
</td>
                    <td>          ).exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # check if dream exist
</td>
                    <td>      # check if dream exist
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if verificationOfCollab == True:
</td>
                    <td>      if verificationOfCollab == True:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("requestSentAlready")
</td>
                    <td>          return Response("requestSentAlready")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         friendPushPushToken = PushToken.objects.filter(username_id=friendId).values_list('push_token', flat=True)[0]
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         friendName = CustomUser.objects.filter(id=friendId).values_list('profile_name', flat=True)[0]
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          pending_request_source_user = CustomUser.objects.get(profile_name=profile)
</td>
                    <td>          pending_request_source_user = CustomUser.objects.get(profile_name=profile)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # retrieves source user information instance
</td>
                    <td>          # retrieves source user information instance
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          pending_request_destination_user = CustomUser.objects.get(id=friendId)
</td>
                    <td>          pending_request_destination_user = CustomUser.objects.get(id=friendId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # retrieves destination user information instance
</td>
                    <td>          # retrieves destination user information instance
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dream_id_instance = DreamVault.objects.get(user_dream_id=dream_id)
</td>
                    <td>          dream_id_instance = DreamVault.objects.get(user_dream_id=dream_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          with transaction.atomic():
</td>
                    <td>          with transaction.atomic():
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              CollabedDreams.objects.create(
</td>
                    <td>              CollabedDreams.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  source_user=pending_request_destination_user,
</td>
                    <td>                  source_user=pending_request_destination_user,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  destination_user=pending_request_source_user,
</td>
                    <td>                  destination_user=pending_request_source_user,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  dream_id=dream_id_instance,
</td>
                    <td>                  dream_id=dream_id_instance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              )
</td>
                    <td>              )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         PushClient().publish(
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             PushMessage(to=friendPushPushToken,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         body=f"You have a new dream collab request from {friendName}. Open shared vault to view the dream",
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         ))
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("successful")
</td>
                    <td>          return Response("successful")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("failed")
</td>
                    <td>          return Response("failed")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def send_friend_request(request):
</td>
                    <td>  def send_friend_request(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      # {"friendRequset": "Jackie", "contactType": "username", "profileName": "cisco"}
</td>
                    <td>      # {"friendRequset": "Jackie", "contactType": "username", "profileName": "cisco"}
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      """
</td>
                    <td>      """
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> friendRequset: testing2
</td>
                    <td>      ==>> friendRequset: testing2
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> profileName: cisco
</td>
                    <td>      ==>> profileName: cisco
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> contactType: username
</td>
                    <td>      ==>> contactType: username
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> user_id: cisco
</td>
                    <td>      ==>> user_id: cisco
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> profileNameId: 1
</td>
                    <td>      ==>> profileNameId: 1
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> user_friend_id: 3
</td>
                    <td>      ==>> user_friend_id: 3
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      ==>> user_friend_id_instance: testing2
</td>
                    <td>      ==>> user_friend_id_instance: testing2
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      """
</td>
                    <td>      """
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      friendRequset = request.data.get('friendRequset', False)
</td>
                    <td>      friendRequset = request.data.get('friendRequset', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      profileName = request.data.get('profileName', False)
</td>
                    <td>      profileName = request.data.get('profileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      contactType = request.data.get('contactType', False)
</td>
                    <td>      contactType = request.data.get('contactType', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      user_id = CustomUser.objects.get(profile_name=profileName)
</td>
                    <td>      user_id = CustomUser.objects.get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                    <td>      profileNameId = CustomUser.objects.values_list('id', flat=True).get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if contactType == 'username':
</td>
                    <td>      if contactType == 'username':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          checkDatabaseForUser = CustomUser.objects.filter(username=friendRequset).exists()
</td>
                    <td>          checkDatabaseForUser = CustomUser.objects.filter(username=friendRequset).exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if checkDatabaseForUser == False:
</td>
                    <td>          if checkDatabaseForUser == False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response('notRegistered')
</td>
                    <td>              return Response('notRegistered')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          user_friend_id = CustomUser.objects.values_list('id', flat=True).get(username=friendRequset)
</td>
                    <td>          user_friend_id = CustomUser.objects.values_list('id', flat=True).get(username=friendRequset)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          user_friend_id_instance = CustomUser.objects.get(id=user_friend_id)
</td>
                    <td>          user_friend_id_instance = CustomUser.objects.get(id=user_friend_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          checkDatabaseForPendingRequest = UserFriends.objects.filter(user_id=user_id, user_friend_id=user_friend_id_instance, status='pending').exists()
</td>
                    <td>          checkDatabaseForPendingRequest = UserFriends.objects.filter(user_id=user_id, user_friend_id=user_friend_id_instance, status='pending').exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if checkDatabaseForPendingRequest == True:
</td>
                    <td>          if checkDatabaseForPendingRequest == True:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response("friendRequestAlreadySent")
</td>
                    <td>              return Response("friendRequestAlreadySent")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          UserFriends.objects.create(
</td>
                    <td>          UserFriends.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_id=user_id,
</td>
                    <td>              user_id=user_id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user_friend_id=user_friend_id_instance,
</td>
                    <td>              user_friend_id=user_friend_id_instance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              status='pending'
</td>
                    <td>              status='pending'
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          )
</td>
                    <td>          )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('successful')
</td>
                    <td>          return Response('successful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     # elif contactType == 'number':
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     elif contactType == 'number':
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     friendRequset = friendRequset.replace(" ", "").replace("-", "").replace("(", "").replace(")", "")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         friendRequset = friendRequset.replace(" ", "").replace("-", "").replace("(", "").replace(")", "")
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     # if the frontend sends phone number
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         # if the frontend sends phone number
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     checkFriendship = CustomUser.objects.filter(phone_number=friendRequset).exists()
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         checkFriendship = CustomUser.objects.filter(phone_number=friendRequset).exists()
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     if checkFriendship == False:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         if checkFriendship == False:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         return Response('notRegistered')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             return Response('notRegistered')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     friendId = CustomUser.objects.values_list('id', flat=True).get(phone_number=friendRequset)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         friendId = CustomUser.objects.values_list('id', flat=True).get(phone_number=friendRequset)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     # gets the friend request id from the custom user table
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         # gets the friend request id from the custom user table
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     checkForExisitingRequest = UserFriends.objects.filter(user_id=profileNameId, user_friend_id=friendId).exists()
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         checkForExisitingRequest = UserFriends.objects.filter(user_id=profileNameId, user_friend_id=friendId).exists()
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     # checks if the frinedship request is already sent
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         # checks if the frinedship request is already sent
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     if checkForExisitingRequest == True:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         if checkForExisitingRequest == True:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         return Response ('friendRequestAlreadySent')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             return Response ('friendRequestAlreadySent')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         # if already exisit, it sends this to front.
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             # if already exisit, it sends this to front.
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     user_friend_id = CustomUser.objects.get(phone_number=friendRequset)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         user_friend_id = CustomUser.objects.get(phone_number=friendRequset)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     checkDatabaseForPendingRequest = UserFriends.objects.filter(user_id=user_id, user_friend_id=user_friend_id, status='pending').exists()
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         checkDatabaseForPendingRequest = UserFriends.objects.filter(user_id=user_id, user_friend_id=user_friend_id, status='pending').exists()
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     if checkDatabaseForPendingRequest == True:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         if checkDatabaseForPendingRequest == True:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         return Response("friendRequestAlreadySent")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             return Response("friendRequestAlreadySent")
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     UserFriends.objects.create(
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         UserFriends.objects.create(
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         user_id=user_id,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             user_id=user_id,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         user_friend_id=user_friend_id,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             user_friend_id=user_friend_id,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #         status='pending'
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             status='pending'
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     )
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         )
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     # creates this
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         # creates this
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     #     return Response('successful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --
</td>
                    <td>?    --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         return Response('successful')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("notRegistered")
</td>
                    <td>          return Response("notRegistered")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def invite_new_user(request):
</td>
                    <td>  def invite_new_user(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      newUserRequest = request.data.get('newUserRequest', False)
</td>
                    <td>      newUserRequest = request.data.get('newUserRequest', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          EmailMessage("Confirmed Text Sent", "sendingInviteTest", EMAIL_HOST_USER, [newUserRequest])
</td>
                    <td>          EmailMessage("Confirmed Text Sent", "sendingInviteTest", EMAIL_HOST_USER, [newUserRequest])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('successful')
</td>
                    <td>          return Response('successful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('unsuccessful')
</td>
                    <td>          return Response('unsuccessful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def send_notifications(request):  # sourcery skip: avoid-builtin-shadow
</td>
                    <td>  def send_notifications(request):  # sourcery skip: avoid-builtin-shadow
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      message = request.data.get('message', False)
</td>
                    <td>      message = request.data.get('message', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      setView = request.data.get('setView', False)
</td>
                    <td>      setView = request.data.get('setView', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if setView == "friendNotification":
</td>
                    <td>      if setView == "friendNotification":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          contactType = request.data.get('contactType', False)
</td>
                    <td>          contactType = request.data.get('contactType', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         # if contactType == 'number':
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         if contactType == 'number':
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #     contactDetail = request.data.get('contactDetail', False)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             contactDetail = request.data.get('contactDetail', False)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #     contactDetail = contactDetail.replace(" ", "").replace("-", "").replace("(", "").replace(")", "")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             contactDetail = contactDetail.replace(" ", "").replace("-", "").replace("(", "").replace(")", "")
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #     contactUsername = CustomUser.objects.filter(phone_number=contactDetail).values_list('id')[0][0]
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             contactUsername = CustomUser.objects.filter(phone_number=contactDetail).values_list('id')[0][0]
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #     try:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             try:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #         token = PushToken.objects.filter(username=contactUsername).values_list('push_token', flat=True)[0]
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 token = PushToken.objects.filter(username=contactUsername).values_list('push_token', flat=True)[0]
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #     except Exception as e:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             except Exception as e:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #         print('error')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 print('error')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         #         token = ""
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?        --
</td>
                    <td>?        --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 token = ""
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         if contactType == 'username':
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         elif contactType == 'username':
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?         ++
</td>
                    <td>?         ++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              contactDetail = request.data.get('contactDetail', False) #returns the new friend username
</td>
                    <td>              contactDetail = request.data.get('contactDetail', False) #returns the new friend username
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              contactUsername = CustomUser.objects.filter(profile_name=contactDetail).values_list('id')[0][0] #returns the new friend profile id number
</td>
                    <td>              contactUsername = CustomUser.objects.filter(profile_name=contactDetail).values_list('id')[0][0] #returns the new friend profile id number
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              try:
</td>
                    <td>              try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  token = PushToken.objects.filter(username=contactUsername).values_list('push_token', flat=True)[0]
</td>
                    <td>                  token = PushToken.objects.filter(username=contactUsername).values_list('push_token', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              except Exception as e:
</td>
                    <td>              except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  print('error')
</td>
                    <td>                  print('error')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  token = ""
</td>
                    <td>                  token = ""
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView == "acceptedConnection":
</td>
                    <td>      elif setView == "acceptedConnection":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          message = "Dreamer accepted your friend request!"
</td>
                    <td>          message = "Dreamer accepted your friend request!"
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          id = request.data.get('id', False)
</td>
                    <td>          id = request.data.get('id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # id for the specific row in the database
</td>
                    <td>          # id for the specific row in the database
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          userFriendId = UserFriends.objects.filter(id=id).values_list('user_id', flat=True)[0]
</td>
                    <td>          userFriendId = UserFriends.objects.filter(id=id).values_list('user_id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # takes the id for the specific row, and attempts to get the user_id integer
</td>
                    <td>          # takes the id for the specific row, and attempts to get the user_id integer
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          token = PushToken.objects.filter(username=userFriendId).values_list('push_token', flat=True)[0]
</td>
                    <td>          token = PushToken.objects.filter(username=userFriendId).values_list('push_token', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # passes the user_id integer so source requestor now knows that they are friends
</td>
                    <td>          # passes the user_id integer so source requestor now knows that they are friends
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView == "declineConnect":
</td>
                    <td>      elif setView == "declineConnect":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          message = "Dreamer declined your friend request."
</td>
                    <td>          message = "Dreamer declined your friend request."
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          id = request.data.get('id', False)
</td>
                    <td>          id = request.data.get('id', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # id for the specific row in the database
</td>
                    <td>          # id for the specific row in the database
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          userFriendId = UserFriends.objects.filter(id=id).values_list('user_id', flat=True)[0]
</td>
                    <td>          userFriendId = UserFriends.objects.filter(id=id).values_list('user_id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # takes the id for the specific row, and attempts to get the user_id integer
</td>
                    <td>          # takes the id for the specific row, and attempts to get the user_id integer
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          token = PushToken.objects.filter(username=userFriendId).values_list('push_token', flat=True)[0]
</td>
                    <td>          token = PushToken.objects.filter(username=userFriendId).values_list('push_token', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # passes the user_id integer so source requestor now knows that they are friends
</td>
                    <td>          # passes the user_id integer so source requestor now knows that they are friends
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView == "collabRequest":
</td>
                    <td>      elif setView == "collabRequest":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          data = request.data.get('data', False)
</td>
                    <td>          data = request.data.get('data', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # all the data from frontend to use for token
</td>
                    <td>          # all the data from frontend to use for token
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # data = data: ['Stevenson', 'Gerard Eustache', 1, 'agentofgod']
</td>
                    <td>          # data = data: ['Stevenson', 'Gerard Eustache', 1, 'agentofgod']
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          sourceProfileName = request.data.get('sourceProfileName', False)
</td>
                    <td>          sourceProfileName = request.data.get('sourceProfileName', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # source user profile name
</td>
                    <td>          # source user profile name
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # sourceProfileName: Testing3
</td>
                    <td>          # sourceProfileName: Testing3
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          message = f"{sourceProfileName} invited you to join a vault."
</td>
                    <td>          message = f"{sourceProfileName} invited you to join a vault."
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          token = PushToken.objects.filter(username=data[2]).values_list('push_token', flat=True)[0]
</td>
                    <td>          token = PushToken.objects.filter(username=data[2]).values_list('push_token', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # passes the user_id integer so source requestor now knows that they are friends.
</td>
                    <td>          # passes the user_id integer so source requestor now knows that they are friends.
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          token = request.data.get('token', False)
</td>
                    <td>          token = request.data.get('token', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if token == "":
</td>
                    <td>      if token == "":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print("noToken")
</td>
                    <td>          print("noToken")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('noToken')
</td>
                    <td>          return Response('noToken')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print("yesToken")
</td>
                    <td>          print("yesToken")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          send_push_message(token, message, extra=None)
</td>
                    <td>          send_push_message(token, message, extra=None)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('dispatched')
</td>
                    <td>          return Response('dispatched')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def save_push_token(request):
</td>
                    <td>  def save_push_token(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      username = request.data.get('username', False)
</td>
                    <td>      username = request.data.get('username', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      pushToken = request.data.get('token', False)
</td>
                    <td>      pushToken = request.data.get('token', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      queryUsernameId = CustomUser.objects.values_list('id', flat=True).get(username=username)
</td>
                    <td>      queryUsernameId = CustomUser.objects.values_list('id', flat=True).get(username=username)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      customUserInstance = CustomUser.objects.get(id=queryUsernameId)
</td>
                    <td>      customUserInstance = CustomUser.objects.get(id=queryUsernameId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      deviceMake = request.data.get('deviceMake', False)
</td>
                    <td>      deviceMake = request.data.get('deviceMake', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      deviceModel = request.data.get('deviceModel', False)
</td>
                    <td>      deviceModel = request.data.get('deviceModel', False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     setView = request.data.get('setView', False)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      confirmPushToken = PushToken.objects.filter(username=queryUsernameId).exists()
</td>
                    <td>      confirmPushToken = PushToken.objects.filter(username=queryUsernameId).exists()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     # pushTokenAvail = PushToken.objects.filter(username=queryUsernameId).exclude(push_token='').exists() #check if token exsist
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?    --                                                                                                    -----------------------
</td>
                    <td>?    --                                                                                                    -----------------------
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     pushTokenAvail = PushToken.objects.filter(username=queryUsernameId).exclude(push_token='').exists()
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     if pushTokenAvail == True:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     if confirmPushToken == False:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         if confirmPushToken == False:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         if setView == "tokenCheck":
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response("notExsist")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         try:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             try:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             if pushToken != False:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                          ^
</td>
                    <td>?                          ^
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 if pushToken == False:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++                         ^
</td>
                    <td>? ++++                         ^
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 PushToken.objects.create(
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     PushToken.objects.create(
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     username=customUserInstance,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         username=customUserInstance,
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     device_make=deviceMake,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         device_make=deviceMake,
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     device_model=deviceModel,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         device_model=deviceModel,
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         push_token=''
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     )
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 else:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     PushToken.objects.create(
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         username=customUserInstance,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         device_make=deviceMake,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         device_model=deviceModel,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     push_token=pushToken
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         push_token=pushToken
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 )
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     )
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response('successful')
</td>
                    <td>                  return Response('successful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response('successful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         except Exception as e:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             except Exception as e:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             print(e)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 print(e)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response(e)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     elif confirmPushToken == True:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         elif confirmPushToken == True:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         try:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             try:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             if pushToken != False:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 if setView == "tokenCheck":
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     if confirmPushToken == False:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         # print(f"==>> confirmPushToken: {confirmPushToken}")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         return Response('successful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     # PushToken.objects.filter(username=customUserInstance).update(push_token=pushToken)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                ------
</td>
                    <td>?                ------
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 PushToken.objects.filter(username=customUserInstance).update(push_token=pushToken)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     else:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         return Response('alreadyConfirmed')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 else:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     PushToken.objects.filter(username=customUserInstance).update(
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         push_token=pushToken,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         device_make=deviceMake,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                         device_model=deviceModel
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     )
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                     return Response('successful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ----
</td>
                    <td>? ----
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 return Response('successful')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response('successful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         except Exception as err:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             except Exception as err:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             print(err)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 print(err)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response('unsuccessful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 return Response('unsuccessful')
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     if pushTokenAvail == False:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         return Response('successful')
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def dream_dictionary_entry(request):
</td>
                    <td>  def dream_dictionary_entry(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      setView = request.data.get("setView", False)
</td>
                    <td>      setView = request.data.get("setView", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if setView == 'categories':
</td>
                    <td>      if setView == 'categories':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          allCategories = DreamDictionaryEntry.objects.values_list('category', flat=True).distinct()
</td>
                    <td>          allCategories = DreamDictionaryEntry.objects.values_list('category', flat=True).distinct()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(allCategories)
</td>
                    <td>          return Response(allCategories)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView == 'category':
</td>
                    <td>      elif setView == 'category':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          category = request.data.get("category", False)
</td>
                    <td>          category = request.data.get("category", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          allCategoryWords = DreamDictionaryEntry.objects.filter(category=category).values_list('id','name','meaning','scripture','backupScripture1','backupScripture2')
</td>
                    <td>          allCategoryWords = DreamDictionaryEntry.objects.filter(category=category).values_list('id','name','meaning','scripture','backupScripture1','backupScripture2')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(allCategoryWords)
</td>
                    <td>          return Response(allCategoryWords)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView == 'allWords':
</td>
                    <td>      elif setView == 'allWords':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          allWords = DreamDictionaryEntry.objects.all().values()
</td>
                    <td>          allWords = DreamDictionaryEntry.objects.all().values()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(allWords)
</td>
                    <td>          return Response(allWords)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      elif setView == 'categoryWord':
</td>
                    <td>      elif setView == 'categoryWord':
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          word = request.data.get("word", False)
</td>
                    <td>          word = request.data.get("word", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          allWords = DreamDictionaryEntry.objects.filter(name=word).values('id','name','meaning','scripture','backupScripture1','backupScripture2')
</td>
                    <td>          allWords = DreamDictionaryEntry.objects.filter(name=word).values('id','name','meaning','scripture','backupScripture1','backupScripture2')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response(allWords)
</td>
                    <td>          return Response(allWords)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      else:
</td>
                    <td>      else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("error")
</td>
                    <td>          return Response("error")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def create_account(request):
</td>
                    <td>  def create_account(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if request.method == "POST":
</td>
                    <td>          if request.method == "POST":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              username = request.data.get("username", False)
</td>
                    <td>              username = request.data.get("username", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              password = request.data.get("password", False)
</td>
                    <td>              password = request.data.get("password", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              first_name = request.data.get("firstName", False)
</td>
                    <td>              first_name = request.data.get("firstName", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              last_name = request.data.get("lastName", False)
</td>
                    <td>              last_name = request.data.get("lastName", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              email = request.data.get("email", False)
</td>
                    <td>              email = request.data.get("email", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             # phone_number = request.data.get("phoneNumber", False)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?            --
</td>
                    <td>?            --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             phone_number = request.data.get("phoneNumber", False)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profile_name = request.data.get("profileName", False)
</td>
                    <td>              profile_name = request.data.get("profileName", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user = CustomUser.objects.create_user(
</td>
                    <td>              user = CustomUser.objects.create_user(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  username = username,
</td>
                    <td>                  username = username,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  password = password,
</td>
                    <td>                  password = password,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  first_name = first_name,
</td>
                    <td>                  first_name = first_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  last_name = last_name,
</td>
                    <td>                  last_name = last_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  email = email,
</td>
                    <td>                  email = email,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 # phone_number = phone_number,
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                --
</td>
                    <td>?                --
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 phone_number = phone_number,
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  profile_name = profile_name
</td>
                    <td>                  profile_name = profile_name
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  )
</td>
                    <td>                  )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              user.save()
</td>
                    <td>              user.save()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("successful")
</td>
                    <td>          return Response("successful")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except IntegrityError as e:
</td>
                    <td>      except IntegrityError as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          errorStringFormat = str(e)
</td>
                    <td>          errorStringFormat = str(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         if "phone_number" in errorStringFormat:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             error = "Phone number is being used, please try another number, or contact support tech.and.faith.contact@gmail.com"
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             return Response(error)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         if "username" in errorStringFormat:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         elif "username" in errorStringFormat:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?         ++
</td>
                    <td>?         ++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              error = "Username is being used, please try another email, or contact support tech.and.faith.contact@gmail.com"
</td>
                    <td>              error = "Username is being used, please try another email, or contact support tech.and.faith.contact@gmail.com"
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(error)
</td>
                    <td>              return Response(error)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          elif "profile_name" in errorStringFormat:
</td>
                    <td>          elif "profile_name" in errorStringFormat:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              error = "Profile name is being used, please try another profile name, or contact support tech.and.faith.contact@gmail.com"
</td>
                    <td>              error = "Profile name is being used, please try another profile name, or contact support tech.and.faith.contact@gmail.com"
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response(error)
</td>
                    <td>              return Response(error)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          else:
</td>
                    <td>          else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response("Error creating account. Please try again or contact support tech.and.faith.contact@gmail.com")
</td>
                    <td>              return Response("Error creating account. Please try again or contact support tech.and.faith.contact@gmail.com")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def dictionary_word_request(request):
</td>
                    <td>  def dictionary_word_request(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if request.method == "POST":
</td>
                    <td>      if request.method == "POST":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          word = request.data.get("word", False)
</td>
                    <td>          word = request.data.get("word", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          profile_name = request.data.get("profile_name", False)
</td>
                    <td>          profile_name = request.data.get("profile_name", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          first_name = request.data.get("first_name", False)
</td>
                    <td>          first_name = request.data.get("first_name", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          last_name = request.data.get("last_name", False)
</td>
                    <td>          last_name = request.data.get("last_name", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          email = request.data.get("email", False)
</td>
                    <td>          email = request.data.get("email", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          word = DictionaryWordAdd.objects.create(
</td>
                    <td>          word = DictionaryWordAdd.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              word = word,
</td>
                    <td>              word = word,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              first_name = first_name,
</td>
                    <td>              first_name = first_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              last_name = last_name,
</td>
                    <td>              last_name = last_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              email = email,
</td>
                    <td>              email = email,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              profile_name = profile_name
</td>
                    <td>              profile_name = profile_name
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              )
</td>
                    <td>              )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          word.save()
</td>
                    <td>          word.save()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      return Response("successful")
</td>
                    <td>      return Response("successful")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def dreamvault_comments(request):
</td>
                    <td>  def dreamvault_comments(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dreamvault_id_collabed = request.data.get("dreamvault_id", False)
</td>
                    <td>          dreamvault_id_collabed = request.data.get("dreamvault_id", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # this is the dream vault id from the collabed dreams table
</td>
                    <td>          # this is the dream vault id from the collabed dreams table
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dreamvault_id = CollabedDreams.objects.filter(dream_id=dreamvault_id_collabed).values_list('dream_id', flat=True)[0]
</td>
                    <td>          dreamvault_id = CollabedDreams.objects.filter(dream_id=dreamvault_id_collabed).values_list('dream_id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dreamvault = get_object_or_404(DreamVault, pk=dreamvault_id)
</td>
                    <td>          dreamvault = get_object_or_404(DreamVault, pk=dreamvault_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          comments = dreamvault.comments.all().order_by('-id')
</td>
                    <td>          comments = dreamvault.comments.all().order_by('-id')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # Create a dictionary to hold the comments and subcomments
</td>
                    <td>          # Create a dictionary to hold the comments and subcomments
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          result = {
</td>
                    <td>          result = {
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              'comments': [],
</td>
                    <td>              'comments': [],
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              'subcomments': {}
</td>
                    <td>              'subcomments': {}
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          }
</td>
                    <td>          }
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # Iterate through the comments and add them to the dictionary
</td>
                    <td>          # Iterate through the comments and add them to the dictionary
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          for comment in comments:
</td>
                    <td>          for comment in comments:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              comment_data = comment.as_dict()
</td>
                    <td>              comment_data = comment.as_dict()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # Iterate through the subcomments and add them to the dictionary
</td>
                    <td>              # Iterate through the subcomments and add them to the dictionary
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              subcomments = comment.subcomments.all()
</td>
                    <td>              subcomments = comment.subcomments.all()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              for subcomment in subcomments:
</td>
                    <td>              for subcomment in subcomments:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  subcomment_data = subcomment.as_dict()
</td>
                    <td>                  subcomment_data = subcomment.as_dict()
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  result['subcomments'].setdefault(comment_data['id'], []).append(subcomment_data)
</td>
                    <td>                  result['subcomments'].setdefault(comment_data['id'], []).append(subcomment_data)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              # Add the comment to the result dictionary
</td>
                    <td>              # Add the comment to the result dictionary
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              result['comments'].append(comment_data)
</td>
                    <td>              result['comments'].append(comment_data)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return JsonResponse(result)
</td>
                    <td>          return JsonResponse(result)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('noComment')
</td>
                    <td>          return Response('noComment')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def new_comments(request):
</td>
                    <td>  def new_comments(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dreamvault_id_collabed = request.data.get("sharedDreamId", False)
</td>
                    <td>          dreamvault_id_collabed = request.data.get("sharedDreamId", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # this is the dream vault id from the collabed dreams table.
</td>
                    <td>          # this is the dream vault id from the collabed dreams table.
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          username = request.data.get("username", False)
</td>
                    <td>          username = request.data.get("username", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          commentText = request.data.get("commentText", False)
</td>
                    <td>          commentText = request.data.get("commentText", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          timestamp = request.data.get("timestamp", False)
</td>
                    <td>          timestamp = request.data.get("timestamp", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dreamvault_id = CollabedDreams.objects.filter(dream_id=dreamvault_id_collabed).values_list('dream_id', flat=True)[0]
</td>
                    <td>          dreamvault_id = CollabedDreams.objects.filter(dream_id=dreamvault_id_collabed).values_list('dream_id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          dreamvault_id_instance = DreamVault.objects.get(user_dream_id=dreamvault_id)
</td>
                    <td>          dreamvault_id_instance = DreamVault.objects.get(user_dream_id=dreamvault_id)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          username_id = CustomUser.objects.filter(profile_name=username).values_list('id', flat=True)[0]
</td>
                    <td>          username_id = CustomUser.objects.filter(profile_name=username).values_list('id', flat=True)[0]
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if commentText != False:
</td>
                    <td>          if commentText != False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              DreamComment.objects.create(
</td>
                    <td>              DreamComment.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  commentText=commentText,
</td>
                    <td>                  commentText=commentText,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  dreamvault = dreamvault_id_instance,
</td>
                    <td>                  dreamvault = dreamvault_id_instance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user_id=username_id,
</td>
                    <td>                  user_id=username_id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  timestamp=timestamp
</td>
                    <td>                  timestamp=timestamp
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              )
</td>
                    <td>              )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response ('successful')
</td>
                    <td>              return Response ('successful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          else:
</td>
                    <td>          else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response ('No Comment Entered')
</td>
                    <td>              return Response ('No Comment Entered')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('noComment')
</td>
                    <td>          return Response('noComment')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def replies(request):
</td>
                    <td>  def replies(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          commentId = request.data.get("commentId", False)
</td>
                    <td>          commentId = request.data.get("commentId", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # this is the dream vault id from the collabed dreams table.
</td>
                    <td>          # this is the dream vault id from the collabed dreams table.
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          replyText = request.data.get("subcommentText", False)
</td>
                    <td>          replyText = request.data.get("subcommentText", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          profileName = request.data.get("username", False)
</td>
                    <td>          profileName = request.data.get("username", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          timestamp = request.data.get("timestamp", False)
</td>
                    <td>          timestamp = request.data.get("timestamp", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          commentIdInstance = DreamComment.objects.get(id=commentId)
</td>
                    <td>          commentIdInstance = DreamComment.objects.get(id=commentId)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          username_id = CustomUser.objects.get(profile_name=profileName)
</td>
                    <td>          username_id = CustomUser.objects.get(profile_name=profileName)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if replyText != False:
</td>
                    <td>          if replyText != False:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              DreamSubcomment.objects.create(
</td>
                    <td>              DreamSubcomment.objects.create(
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  user=username_id,
</td>
                    <td>                  user=username_id,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  comment = commentIdInstance,
</td>
                    <td>                  comment = commentIdInstance,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  commentText=replyText,
</td>
                    <td>                  commentText=replyText,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  timestamp=timestamp
</td>
                    <td>                  timestamp=timestamp
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              )
</td>
                    <td>              )
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response ('successful')
</td>
                    <td>              return Response ('successful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          else:
</td>
                    <td>          else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response ('No Comment Entered')
</td>
                    <td>              return Response ('No Comment Entered')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as e:
</td>
                    <td>      except Exception as e:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print(e)
</td>
                    <td>          print(e)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('noComment')
</td>
                    <td>          return Response('noComment')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @method_decorator(csrf_exempt, name='dispatch')
</td>
                    <td>  @method_decorator(csrf_exempt, name='dispatch')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  class CustomAuthToken(ObtainAuthToken):
</td>
                    <td>  class CustomAuthToken(ObtainAuthToken):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      def post(self, request, *args, **kwargs):
</td>
                    <td>      def post(self, request, *args, **kwargs):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          serializer = self.serializer_class(data=request.data, context={'request': request})
</td>
                    <td>          serializer = self.serializer_class(data=request.data, context={'request': request})
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          serializer.is_valid(raise_exception=True)
</td>
                    <td>          serializer.is_valid(raise_exception=True)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          user = serializer.validated_data['user']
</td>
                    <td>          user = serializer.validated_data['user']
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          token, created = Token.objects.get_or_create(user=user)
</td>
                    <td>          token, created = Token.objects.get_or_create(user=user)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response({
</td>
                    <td>          return Response({
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'token': token.key,
</td>
                    <td>                  'token': token.key,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'first_name': user.first_name,
</td>
                    <td>                  'first_name': user.first_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'last_name': user.last_name,
</td>
                    <td>                  'last_name': user.last_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'username':user.username,
</td>
                    <td>                  'username':user.username,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'email':user.email,
</td>
                    <td>                  'email':user.email,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'profile_name':user.profile_name,
</td>
                    <td>                  'profile_name':user.profile_name,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  'premium':user.premium,
</td>
                    <td>                  'premium':user.premium,
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 'active':user.is_active
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              })
</td>
                    <td>              })
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          # sent to the frontend
</td>
                    <td>          # sent to the frontend
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['GET', 'POST'])
</td>
                    <td>  @api_view(['GET', 'POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def token_validation(request):
</td>
                    <td>  def token_validation(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      if request.method != "POST":
</td>
                    <td>      if request.method != "POST":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response("This is a POST and not a GET. Please contact admin")
</td>
                    <td>          return Response("This is a POST and not a GET. Please contact admin")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      username_front_frontend = request.data.get("username", False)
</td>
                    <td>      username_front_frontend = request.data.get("username", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      user_identification_value = CustomUser.objects.get(username=username_front_frontend)
</td>
                    <td>      user_identification_value = CustomUser.objects.get(username=username_front_frontend)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      token_value = Token.objects.filter(user_id=user_identification_value).values_list('key', flat=True)
</td>
                    <td>      token_value = Token.objects.filter(user_id=user_identification_value).values_list('key', flat=True)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      return Response(token_value)
</td>
                    <td>      return Response(token_value)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- def sendNotifications(expo_push_token, message):
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     try:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         PushClient().publish(
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             PushMessage(to=expo_push_token, body=message)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         )
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         print('Notification sent successfully')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         return Response({'message': 'Notification sent successfully'}, status=200)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     except DeviceNotRegisteredError:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         print('Device not registered')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         return Response({'message': 'Device not registered'}, status=400)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     except PushTicketError as exc:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         print('Push ticket error:', exc)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         return Response({'message': 'Push ticket error'}, status=500)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     except (PushServerError, Exception) as exc:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         print('Error sending notification:', exc)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         return Response({'message': 'Failed to send notification'}, status=500)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+ @api_view(['GET', 'POST'])
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+ def test_api(request):
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Set up the GitHub API endpoint and authentication headers
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     owner='agentggg'
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     repo='RevealBackups'
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     path = datetime.now().strftime('%m-%d-%Y %H:%M:%S:%f') + '.json'
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     url = 'https://api.github.com/repos/{owner}/{repo}/contents/{path}'
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     auth = ('agentggg', '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')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Alternatively, you can use OAuth2 authentication instead of personal access token
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Generate the file name based on the current date and time
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     headers = {
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         'Content-Type': 'application/json',
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         'Authorization': f'token {auth[1]}'
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     }
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Dump the database data to a JSON string using the `dumpdata` management command
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     buffer = io.StringIO()
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     call_command('dumpdata', stdout=buffer)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     data = buffer.getvalue()
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Encode the JSON data as a Base64 string
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     encoded_data = base64.b64encode(data.encode('utf-8')).decode('utf-8')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Convert the JSON data to a string and encode it as bytes
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     request_url = url.format(owner=owner, repo=repo, path=path)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     request_data = {
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         'message': f'Add file {path}',
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         'content': encoded_data,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     }
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     response = requests.put(request_url, auth=auth, headers=headers, json=request_data)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     # Check the response status code to see if the file was created or updated successfully
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     if response.status_code == 200 or response.status_code == 201:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         return Response("Successfully added to vault")
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     else:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         print(f'Error uploading JSON file to GitHub: {response.text}')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         return Response("Not added to vault")
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  @api_view(['POST'])
</td>
                    <td>  @api_view(['POST'])
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  def send_blast(request):
</td>
                    <td>  def send_blast(request):
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      try:
</td>
                    <td>      try:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          setView = request.data.get("setView", False)
</td>
                    <td>          setView = request.data.get("setView", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          if setView == "verify":
</td>
                    <td>          if setView == "verify":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              password = request.data.get("password", False)
</td>
                    <td>              password = request.data.get("password", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             if password != "cisco":
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                             -- ^^
</td>
                    <td>?                             -- ^^
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             if password != "sakpase@2021":
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                              ^^^^^^^^^^^
</td>
                    <td>?                              ^^^^^^^^^^^
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>                  return Response("unsuccessful")
</td>
                    <td>                  return Response("unsuccessful")
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              else:
</td>
                    <td>              else:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 return Response("successful")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                                         ---
</td>
                    <td>?                                         ---
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 return Response("success")
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          elif setView == "blast":
</td>
                    <td>          elif setView == "blast":
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              message = request.data.get("message", False)
</td>
                    <td>              message = request.data.get("message", False)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              allToken = PushToken.objects.all().values_list('push_token', flat=True)
</td>
                    <td>              allToken = PushToken.objects.all().values_list('push_token', flat=True)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              for eachToken in allToken:
</td>
                    <td>              for eachToken in allToken:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-                 sendNotifications(eachToken, message)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 try:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     PushClient().publish(
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                         PushMessage(to=eachToken,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                                     body=message,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                                     ))
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     print(eachToken)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 except Exception as exc:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     print('error found in notification targeted:', exc)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>              return Response ('successful')
</td>
                    <td>              return Response ('successful')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+ 
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>      except Exception as exc:
</td>
                    <td>      except Exception as exc:
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          print('error found in notification targeted:', exc)
</td>
                    <td>          print('error found in notification targeted:', exc)
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>          return Response('failed ')
</td>
                    <td>          return Response('failed ')
</td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>  
</td>
                    <td>  
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     try:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         message = request.data.get("message", False)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         allToken = PushToken.objects.all().values_list('push_token', flat=True)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         print(allToken)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- @api_view(['GET', 'POST'])
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- def test_api(request):
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     print('hi')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     response = PushClient().publish(
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         PushMessage(to="ExponentPushToken[oc4Q6nOtKwBz1l9JW_wUVx]]", body="message")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     )
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     return Response(x)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- @api_view(['GET','POST'])
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- def deactivate(request):
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     try:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         try:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ++++
</td>
                    <td>? ++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         username = request.data.get('username', False)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         userInfo = CustomUser.objects.filter(username=username).delete()
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         if userInfo == (0, {}):
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             print("error")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             for eachToken in allToken:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                 PushClient().publish(
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                     PushMessage(to=eachToken,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                                 body=message,
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+                                 ))
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         except Exception as exc:
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             print('error found in notification targeted:', exc)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response('unsuccessful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+             return Response('unsuccessfully sent to', eachToken)
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                                          ++++++++++ +++++++++++
</td>
                    <td>?                                          ++++++++++ +++++++++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         else:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             print("no error")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-             return Response ('successful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     except Exception as e:
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     except Exception as exc:
</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                          ++
</td>
                    <td>?                          ++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         print(e)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         print('error found in notification targeted:', exc)
</td>
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+         return Response('blast messsage failed ')
</td>
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-         return Response('unsuccessful')
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                        
                    <td>? ----                     --            -
</td>
                    <td>? ----                     --            -
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td></td>
                    <td class="added">+     return Response('successfully sent')</td>
                    
                </tr>
                
                <tr>
                    
                        
                    <td>?                                +++++++
</td>
                    <td>?                                +++++++
</td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- 
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- @api_view(['GET', 'POST'])
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">- def user_profile(request):
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     username = request.data.get('username', False)
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     # retrieves front end usrname
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     username_id = CustomUser.objects.filter(username=username).values("first_name","last_name","username","email")
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     # retrieves org account owner info from DB
</td>
                    <td></td>
                        
                    
                </tr>
                
                <tr>
                    
                    <td class="removed">-     return Response(username_id) # Send the response to the frontend
</td>
                    <td></td>
                        
                    
                </tr>
                
            </tbody>
        </table>
    </body>
    </html>
    